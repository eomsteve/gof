# 2일 SOLID


## 단일 책임 원칙
단일 책임 원칙 위반은? 싱글턴

근데 단일 책임은 좀 애매해요 그래서 단일 책임 원칙은 하나의 이유로 수정해야 하는 경우로 생각하는게 낫다

실무에서 가장 지키기 어려운 단일 책임 원칙

처음 부터 단일 책임 원칙을 지키기 보단 인지 하는게 중요하다.

### 예시

이미지를 생성하고 저장하는 함수가 있다면, 바로 나눌 생각하지말고,, 행동이 반복이 되어서 분리가 가능할때 리팩터링을 수행하자

## 개방 폐쇄 원칙

확장에는 열려있되 변경에는 닫혀있어야 한다.

먼가를 추가할려고 기존 코드를 추가하면 이 원칙을 위반 한 것이다.

수정안하고 할 수 있어여? 넹

기존코드 하나도 변경 없이 추가만으로 코드를 수정하고 관리한다.

if문을 제거할 수 있다.

## 리스코프 치환 원칙

바바라 리스코프야

객체는 정확성(타입)을 깨트리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 한다.

버드 클래스와 팽귄 클래스

fly를 상속해서 쓸때 오버라이드 하면 에러가 난다. 부모의 fly의 반환은 string일때 자식이 throw니까 타입을 못지키므로 리스코프 치환 원칙 위반이다.

부모객채를 자식으로 대치 해 보면 알 수 있다. 타입 에러가 없어야 함

콘솔 결과가 같은게 아니라 타입 에러가 안나는걸 뜻한다. 난다면 상속 관계가 잘못됨을 알 수 있다.

## 인터페이스 분리 원칙

인터페이스 여러개가 범용 인터페이스 하나보다 낫다

인터페이스나 추상 클래스부터 만들고 구현하기 이습관 고치기 쉽지 않음

이게 뭐가 문제임?? 리스코프 치환 원칙과 연계해서 버드에서 플라이를 빼고 팽귄에서 따로 구현하면 고칠 수 있는데, 인터페이스에서 이미 선언했기 때문에 인터페이스 명세에 맞게 구현 해 줘야한다.

인터페이스를 잘못 만든것임. 이름을

인터페이스는 어떤 객채가 무엇을 할수 있는지로 구현하기 때문에 -able로 구현할 수 있음

인터페이스가 추상클래스보다 좋은점은 인터페이스를 여러개 상속할 수 있따. js는 단일 상속언어라 클래스를 여러개 상속못하느데 인터페이스 문법은 가능하다.

인터페이스를 잘게 잘게 쪼개놔야 쓸대없는 코드를 구현하는 게 줄어들게 된다.

거대해지는 구현을 막는 원칙

## 의존관계 역전 원칙

추상에 의존하고 구체에 의존하지 말자

인터페이스나 추상 클래스에 의존하라는 뜻

의존관계 역전 원칙을 구현하는 방법중 하나가 의존 주입 방법이다. (매개변수나 생성자를 통해 의존성을 주입받는것)

강결합 되는게 아니라 DI를 통해서 함수를 호출하는 쪽에서 필요한곳을 바꿔서 쓸 수 있게 되는것

매개변수나 생성자 통해서 하는게 의존관계 역전원칙 중 하나일 뿐

같은게 아니라 종속관계이다

### 추상

인터페이스 , 추상클래스만이 추상이다. 

인자로 추상을 넣어주는 것

매개변수로나 생성자로 외부 객체를 주입 받고, 외부 객체를 주입 받을때 타입을 interface와 추상 클래스만 쓰면 잘 지켜진다.

인터페이스나 추상 클래스를 타입으로 사용하면 의존관계 역전 원칙이 지켜진다.

## 팩토리 패턴

심플 팩토리 패턴 : 그냥 타입같은걸 받아서 타입에 따라 다른 객체를 반환하는것

원래라면 클래스르 만들고 스태틱 메서드를 만들긴 하는데 클래스가 함수 하나밖에 없으면 함수로 만드는것도

사실 이건 단일 책임 원칙 위반!

타입을 판단해서 객체를 생성하고 있음(그림판에선 새로운 그림판을 추가하면 엘스 이프가 하나 더 들어가고 인스턴스 인자가 들어가면 또 다른 변경이 하나 더 들어간다.)

사실 if문은 단일책임원칙 위반이 될 확률이 높다.

너무하긴 해 if문을 쓰지말란 말이냐!

### 팩토리 메서드 패턴

추상 팩토리를 선언 한다!

추상 그림판을 선언 한다!


[가서 보고 이해해라](https://github.com/ZeroCho/design-pattern-canvas/blob/main/README.md#%EC%B6%94%EC%83%81-%ED%8C%A9%ED%86%A0%EB%A6%ACabstract-factory)

### 추상 팩토리 패턴

클래스 안에 객체 세트 관계가 있을때 추상 팩토리를 쓸 수 있따.


객체에 대한 추상 클래스를 만들고 구체적인 객체를 추상에 상속해서 구현한다.

